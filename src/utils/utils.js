import React from 'react';
import {Select } from 'antd';
const Option = Select.Option;

export default {
    formateDate(time){ //格式化时间戳
    
        if(!time) return '';
        let date = new Date(time);
        let m    = date.getMinutes();
        let s    = date.getSeconds();
        let h    = date.getHours()
        m = m <10 ?'0'+ m : m;
        s = s <10 ?'0'+ s : s;
        h = h <10 ?'0'+ h : h;

        return date.getFullYear() +'-'+(date.getMonth()+1)+'-'+date.getDate() + ' '+h+':'+m+':'+s; 
    },
    pagination(data,callback){ //分页
        return {
            onChange:(current)=>{
                callback(current)
            },
            current:data.result.page,
            pageSize:data.result.page_size,
            total: data.result.total_count,
            showTotal:()=>{
                return `共${data.result.total_count}条`
            },
            showQuickJumper:true
        }
    },
    // 格式化金额,单位:分(eg:430分=4.30元)
    formatFee(fee, suffix = '') {
        if (!fee) {
            return 0;
        }
        return Number(fee/100).toFixed(2) + suffix;
    },
    // 格式化公里（eg:3000 = 3公里）
    formatMileage(mileage, text) {
        if (!mileage) {
            return 0;
        }
        if (mileage >= 1000) {
            text = text || " km";
            return Math.floor(mileage / 100) / 10 + text;
        } else {
            text = text || " m";
            return mileage + text;
        }
    },
    // 隐藏手机号中间4位
    formatPhone(phone) {
        phone += '';
        return phone.replace(/(\d{3})\d*(\d{4})/g, '$1***$2')
    },
    // 隐藏身份证号中11位
    formatIdentity(number) {
        number += '';
        return number.replace(/(\d{3})\d*(\d{4})/g, '$1***********$2')
    },
    getOptionList(data){  //添加Option
        if(!data){
            return [];
        }
        let options = [] //[<Option value="0" key="all_key">全部</Option>];
        data.map((item)=>{
            options.push(<Option value={item.id} key={item.id}>{item.name}</Option>)
        })
        return options;
    },
}